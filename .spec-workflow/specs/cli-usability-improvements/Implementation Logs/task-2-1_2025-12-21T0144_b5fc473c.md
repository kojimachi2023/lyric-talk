# Implementation Log: Task 2.1

**Summary:** Extended repository interfaces to support list/count operations required by CLI use cases. Added list_lyric_corpora to LyricsRepository and MatchRepository, count_by_lyrics_corpus_id and list_by_lyrics_corpus_id to LyricTokenRepository.

**Timestamp:** 2025-12-21T01:44:50.867Z
**Log ID:** b5fc473c-ec4c-409b-8a62-0172ae087c74

---

## Statistics

- **Lines Added:** +62
- **Lines Removed:** -0
- **Files Changed:** 3
- **Net Change:** 62

## Files Modified

- src/domain/repositories/lyrics_repository.py
- src/domain/repositories/lyric_token_repository.py
- src/domain/repositories/match_repository.py

## Files Created

_No files created_

---

## Artifacts

### Functions

#### list_lyric_corpora

- **Purpose:** Get recent lyrics corpora list for CLI interactive selection
- **Location:** src/domain/repositories/lyrics_repository.py:103
- **Signature:** (self, limit: int) -> list[LyricsCorpus]
- **Exported:** Yes

#### count_by_lyrics_corpus_id

- **Purpose:** Count tokens for a corpus for summary display
- **Location:** src/domain/repositories/lyric_token_repository.py:94
- **Signature:** (self, lyrics_corpus_id: str) -> int
- **Exported:** Yes

#### list_by_lyrics_corpus_id

- **Purpose:** Get first N tokens for preview text generation
- **Location:** src/domain/repositories/lyric_token_repository.py:108
- **Signature:** (self, lyrics_corpus_id: str, limit: int) -> list[LyricToken]
- **Exported:** Yes

#### list_match_runs

- **Purpose:** Get recent match runs list for CLI interactive selection
- **Location:** src/domain/repositories/match_repository.py:79
- **Signature:** (self, limit: int) -> list[MatchRun]
- **Exported:** Yes
